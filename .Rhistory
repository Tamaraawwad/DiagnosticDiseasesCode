install.packages("org")
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases",
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/Dr Shahinaz/Diag Data/",
SHARED = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
library(readxl)
library(openxlsx)
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
View(X2019)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw/",
SHARED = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME = "C:/Users/enasa/OneDrive/Documents/DiagnosticDiseasesCode",
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw/",
SHARED = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
library(readxl)
library(openxlsx)
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
View(X2019)
X2019 <- readxl::read_excel(file.path(org::PROJ$Diag_Data,"2019.xlsx"))
X2019 <- readxl::read_excel(file.path(org::PROJ$Diag Data,"2019.xlsx"))
X2019 <- readxl::read_excel(file.path(org::PROJ$DiagData,"2019.xlsx"))
X2019 <- readxl::read_excel(file.path(org::PROJ$"DiagData","2019.xlsx"))
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
View(X2019)
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
names(X2019)
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/Diag Data/data_raw",
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
library(readxl)
library(openxlsx)
X2019 <- readxl::read_excel(file.path(org::PROJ$DATA_RAW,"2019.xlsx"))
View(X2019)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
#HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
SHARED= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
#HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
#HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
#HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
# creating folders
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
RESULTS= "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
# creating folders, SHARED it is an argument to the function org::InitialiseProject
#shared ....it will create a folder inside with a date
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
SHARED =  "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
library(readxl)
library(openxlsx)
#creating vectors for data raw
#DIAGNOSTIC DATA
diag_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2019.xlsx"))
diag_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2018.xlsx"))
diag_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2017.xlsx"))
diag_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2016.xlsx"))
# Drugs Data
drug_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2019.xlsx"))
drug_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2018.xlsx"))
drug_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2017.xlsx"))
drug_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2016.xlsx"))
#Lab Data
lab_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2019.xlsx"))
lab_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2018.xlsx"))
lab_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2017.xlsx"))
lab_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2016.xlsx"))
#Observation Data
obs_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2019.xlsx"))
obs_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2018.xlsx"))
obs_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2017.xlsx"))
obs_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2016.xlsx"))
View(diag_2019)
names(diag_2019)
dim(diag_2019)
str(diag_2019)
unique(diag_2019$`Diagnose Name`)
unique(diag_2019$`Diagnose Name`)
tam <- xtabs(~ diag_2019$'Diagnose Name')
openxlsx :: write.xlsx(tam,
file.path("C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results",
"diagnostic.xlsx"))
openxlsx :: write.xlsx(tam,
file.path(org::PROJ$SHARED,"2019.xlsx"))
openxlsx :: write.xlsx(tam,
file.path(org::PROJ$SHARED_TODAY,"2019.xlsx"))
chisq.test(tam)
barplot(tam, main="Diagnosis Distribution",
xlab="Number of cases")
counts <- table(diag_2019$'Diagnose Name')
barplot(counts, main="Car Distribution",
xlab="Number of Gears")
counts
tam2 <- CrossTable (diag_2019$`Diagnose Name`,diag_2019$Organization,addNA=T)
tam2 <- CrossTable (diag_2019$`Diagnose Name`,diag_2019$Organization,addNA=T)
library(gmodels)
tam2 <- CrossTable (diag_2019$`Diagnose Name`,diag_2019$Organization,addNA=T)
openxlsx :: write.xlsx(tam2,
file.path(org::PROJ$SHARED_TODAY,"2019cross.xlsx"))
chisq.test(tam2)
tamm <- CrossTable (diag_2019$`Diagnose Name`,diag_2019$Organization,addNA=T)
chisq.test(tamm)
d2019 <- merge(diag_2019, drugs_2019, obs_2019, lab_2019, by="BARADMISSIONID")
org::AllowFileManipulationFromInitialiseProject()
org::InitialiseProject(
HOME = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/DiagnosticDiseasesCode",
DATA_RAW = "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/data_raw",
SHARED =  "C:/Users/enasa/OneDrive/Documents/Diagnostic diseases/results"
)
library(readxl)
library(openxlsx)
#creating vectors for data raw
#DIAGNOSTIC DATA
diag_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2019.xlsx"))
diag_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2018.xlsx"))
diag_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2017.xlsx"))
diag_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag Data" ,"2016.xlsx"))
# Drugs Data
drug_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2019.xlsx"))
drug_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2018.xlsx"))
drug_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2017.xlsx"))
drug_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs Data" ,"2016.xlsx"))
#Lab Data
lab_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2019.xlsx"))
lab_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2018.xlsx"))
lab_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2017.xlsx"))
lab_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2016.xlsx"))
#Observation Data
obs_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2019.xlsx"))
obs_2018 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2018.xlsx"))
obs_2017 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2017.xlsx"))
obs_2016 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2016.xlsx"))
View(diag_2019)
names(diag_2019)
dim(diag_2019)
str(diag_2019)
diag_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Diag data" ,"2019.xlsx"))
drugs_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Drugs data" ,"2019.xlsx"))
obs_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "observation Data" ,"2019.xlsx"))
lab_2019 <- read_excel(file.path(org::PROJ$DATA_RAW, "Lab Data" ,"2019.xlsx"))
d2019 <- merge(diag_2019, drugs_2019, obs_2019, lab_2019, by="BARADMISSIONID")
d2019 <- merge(diag_2019, drugs_2019, by="BARADMISSIONID")
d2019
nrow(diag_2019)
nrow(drugs_2019)
nrow(d2019)
d2019 <- merge(diag_2019, obs_2019, by="BARADMISSIONID")
nrow(d2019)
d2019 <- merge(d2019, lab_2019, by="BARADMISSIONID")
nrow(d2019)
